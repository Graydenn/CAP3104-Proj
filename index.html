<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Motion Metrics</title>
    <link rel="icon" type="image/x-icon" href="/media/favicon.ico">
    <link rel="stylesheet" href="style.css">
    <script src="interaction.js" defer></script>
    <script src="https://livejs.com/live.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="/media/motion.svg" alt="Motion Metrics Logo" class="logo">
        </div>
        <nav>
            <a href="#home" data-page="home">Home</a>
            <a href="#log" data-page="log">Log</a>
            <a href="#leaderboard" data-page="leaderboard">Leaderboard</a>
            <span class="spacer"></span>
            <a href="#settings" class="settings-icon" data-page="settings">‚öôÔ∏è</a>
            <a href="#profile" id="profile-popup-trigger" class="profile-icon">üë§</a>
        </nav>
    </header>

    <main id="main-content">
        <section id="home" class="section page">
            <div class="left-column">
                <h2>Hello, <span class="highlight">User</span>!</h2>
                <div class="last-workout">
                    <p>It has been <span id="days-since-workout">X</span> day(s) since your last workout.</p>
                </div>

                <h2>Badges:</h2>
                <div class="badges">
                    <div class="badge">üèÖ</div>
                    <div class="badge">üèÖ</div>
                    <div class="badge-desat">üèÖ</div>
                </div>

                <h2>Goals:</h2>
                <div class="goals">
                    <div class="goal-item">
                        <div class="progress-bar-cont">
                            <div class="progress-bar">
                                <div class="progress" id="goal-progress"></div>
                            </div>
                            <button class="edit-goal" id="edit-goal-btn">‚úèÔ∏è</button>
                        </div>
                        <p><span id="goal-description">Pick a goal!</span> (<span id="goal-percentage">100</span>% Complete)</p>
                    </div>
                </div>
            </div>

            <div class="right-column">
                <div class="weekly-challenge">
                    <h2>Weekly Challenge:</h2>
                    <p>Can you do <span id="challenge-amount">X</span> of <span id="challenge-exercise">this exercise</span>?</p>
                </div>

                <div class="weekly-top-users">
                    <h2>Weekly Top Users:</h2>
                    <ol id="top-users-list">
                    </ol>
                    <a href="#leaderboard" class="leaderboard-link" data-page="leaderboard">
                        Leaderboard <span class="leaderboard-link-arrow">‚Üí</span>
                    </a>
                </div>
            </div>
        </section>

        <section id="log" class="section page">
            <h2>Workout Log</h2>
            <div class="log-controls">
                <button id="log-new-popup-trigger" class="log-new-button">Log New</button>
            </div>
            <div class="workout-entries" id="workout-entries">
                <!-- Workout entries will be dynamically added here -->
            </div>
        </section>

        <section id="leaderboard" class="section page">
            <h2>Leaderboard</h2>
            <div class="leaderboard-controls">
                <select id="leaderboard-period">
                    <option value="weekly">Weekly</option>
                    <option value="monthly">Monthly</option>
                    <option value="all-time">All-Time</option>
                </select>
            </div>
            <ol class="leaderboard-list" id="leaderboard-list">
                <!-- Leaderboard entries will be dynamically added here -->
            </ol>
        </section>

        <section id="settings" class="section page">
            <h2>Settings</h2>
            <div class="settings-options">
                <strong>Appearance</strong>
                <div class="toggle-option" style="margin-bottom: 6px;">
                    <label for="dark-mode-toggle">Dark Mode:</label>
                    <input type="checkbox" id="dark-mode-toggle" checked>
                </div>
                <strong>Privacy</strong>
                <div class="toggle-option">
                    <label for="email-notifications-toggle">Email Notifications:</label>
                    <input type="checkbox" id="email-notifications-toggle">
                </div>
                <div class="toggle-option">
                    <label for="activity-reminders-toggle">Activity Reminders:</label>
                    <input type="checkbox" id="activity-reminders-toggle">
                </div>
            </div>
            <a href="mailto:contact@motionmetrics.com"><button class="contact-us-button">Contact Us</button></a><br>
            <button class="log-out-button">Log Out</button>
        </section>

        <section id="profile" class="section page">
            <h2>Profile</h2>
            <p>Name: <span id="profile-name">Error</span></p>
            <p>Email: <span id="profile-email">error@site.com</span></p>
        </section>

        <section id="login" class="section page">
            <h2>Login</h2>
            <form id="login-form">
                <input type="text" id="username" placeholder="Username" required>
                <input type="password" id="password" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
            <p style="padding-top: 10px;">Credentials are "example:password123" for testing!</p>
        </section>
    </main>

    <dialog id="log-new-popup" class="popup">
        <h3>Log New Workout</h3>
        <form id="log-new-form">
            <label for="log-date">Date:</label>
            <input type="date" id="log-date" required>
            <label for="log-activity">Activity:</label>
            <input type="text" id="log-activity" required>
            <label for="log-duration">Duration (minutes):</label>
            <input type="number" id="log-duration" required>
            <button type="submit">Save Workout</button>
            <button class="close-popup">Close</button>
        </form>
    </dialog>

    <dialog id="edit-goal-popup" class="popup">
        <h3>Edit Goal</h3>
        <form id="edit-goal-form">
            <label for="goal-description-input">Goal:</label>
            <input type="text" id="goal-description-input" required>
            <label for="goal-progress-input">Progress (%):</label>
            <input type="number" id="goal-progress-input" min="0" max="100" required>
            <button type="submit">Save Goal</button>
            <button class="close-popup">Close</button>
        </form>
    </dialog>

    <dialog id="edit-workout-popup" class="popup">
        <h3>Edit Workout</h3>
        <form id="edit-workout-form">
            <label for="edit-workout-date">Date:</label>
            <input type="date" id="edit-workout-date" required>
            <label for="edit-workout-activity">Activity:</label>
            <input type="text" id="edit-workout-activity" required>
            <label for="edit-workout-duration">Duration (minutes):</label>
            <input type="number" id="edit-workout-duration" required>
            <button type="submit">Save Changes</button>
            <button type="button" id="delete-workout-btn">Delete Workout</button>
            <button class="close-popup">Close</button>
        </form>
    </dialog>
</body>
</html>